(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,t,n){},21:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r,c,a=n(1),i=n.n(a),s=n(14),o=n.n(s),l=(n(19),n(3)),u=["title","titleId"];function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function f(e,t){var n=e.title,i=e.titleId,s=h(e,u);return a.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#088da5",ref:t,"aria-labelledby":i},s),n?a.createElement("title",{id:i},n):null,r||(r=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),c||(c=a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})))}var j,b,p=a.forwardRef(f),m=(n.p,n(0)),O=function(e){var t=e.filterValue,n=e.handleFilterChange;return Object(m.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",height:50},children:Object(m.jsx)("div",{children:Object(m.jsxs)("span",{style:{display:"inline-flex",flex:"1 1 300px",position:"relative",border:"1px solid #39a3b7"},children:[Object(m.jsx)(p,{}),Object(m.jsx)("input",{style:{border:0,padding:"0.5rem 0.5rem 0.5rem 0",flex:1},value:t,onChange:n,placeholder:"Ada Lovelace"})]})})})},v=(n(21),function(e){var t=e.handleSubmit,n=e.newName,r=e.handleNameChange,c=e.newPhone,a=e.handlePhoneChange,i=(e.personsList,e.handleCancel),s=function(){return c&&c.length>8&&c.length>10};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{children:"Add new"}),Object(m.jsxs)("form",{onSubmit:t,children:[Object(m.jsxs)("div",{className:"form-fields",children:["name: ",Object(m.jsx)("input",{value:n,onChange:r})]}),Object(m.jsxs)("div",{className:"form-fields",children:["Phone:",Object(m.jsx)("input",{style:{border:s()?"2px solid red":""},value:c,onChange:a})]}),Object(m.jsxs)("div",{className:"form-fields",children:[Object(m.jsx)("button",{disabled:!n||!c||s(),type:"submit",children:"add"}),Object(m.jsx)("button",{onClick:i,children:"Cancel"})]})]})]})}),g=function(e){var t=e.personsList,n=e.handleDelete;return Object(m.jsxs)("table",{style:{padding:10,maxWidth:600},children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{style:{color:"#86c6c9"},children:[Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Number"}),Object(m.jsx)("th",{})]})}),Object(m.jsx)("tbody",{children:t.map((function(e){return Object(m.jsxs)("tr",{style:{color:"#93cccf"},children:[Object(m.jsx)("td",{children:e.name}),Object(m.jsx)("td",{children:e.number}),Object(m.jsx)("td",{children:Object(m.jsx)("button",{onClick:function(){return n(e.id)},children:"Delete"})})]},e.name)}))})]})},x=["title","titleId"];function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function C(e,t){var n=e.title,r=e.titleId,c=w(e,x);return a.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#088da5",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,j||(j=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),b||(b=a.createElement("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2H9zm-3-3v-3h3v-2H6V7H4v3H1v2h3v3z"})))}var S=a.forwardRef(C),E=(n.p,n(4)),N=n.n(E),P="/api/persons",L=function(){return N.a.get(P).then((function(e){return e.data}))},k=function(e){return N.a.post(P,e).then((function(e){return e.data}))},z=function(e,t){return N.a.put("".concat(P,"/").concat(e),t).then((function(e){return e.data}))},I=function(e){return N.a.delete("".concat(P,"/").concat(e)).then((function(e){return e}))},D=(n(40),function(e){var t=e.message,n=e.type,r=e.handleDisplay,c=e.hasCloseButton;return null===t?null:Object(m.jsxs)("div",{className:"".concat(n," notification"),children:[t,c&&Object(m.jsx)("button",{onClick:r,children:"X"})]})}),F=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),h=d[0],f=d[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),p=b[0],x=b[1],y=Object(a.useState)(!1),w=Object(l.a)(y,2),C=w[0],E=w[1],N=Object(a.useState)({message:"",type:""}),P=Object(l.a)(N,2),F=P[0],H=P[1],M=Object(a.useState)(!1),B=Object(l.a)(M,2),V=B[0],A=B[1];Object(a.useEffect)((function(){L().then((function(e){r(e)})).catch((function(e){H({message:"Error retrieving contact list",type:"error"})}))}),[]),Object(a.useEffect)((function(){F.message&&(A(!0),setTimeout((function(){H({message:"",type:""}),A(!1)}),5e3))}),[F]);var T=p?n.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())})):n;return Object(m.jsxs)("div",{className:"App app-container",children:[Object(m.jsx)("h2",{className:"title",children:"Phonebook"}),V&&Object(m.jsx)(D,{message:F.message,type:F.type,handleDisplay:function(){A(!1)}}),Object(m.jsx)(O,{filterValue:p,handleFilterChange:function(e){var t=e.target.value;x(t)}}),Object(m.jsxs)("div",{className:"contacts-container",children:[Object(m.jsx)("div",{children:!C&&Object(m.jsxs)("span",{className:"contacts-option",children:["My contacts:",Object(m.jsx)(S,{className:"add-person-icon",onClick:function(){return E(!0)}})]})}),C?Object(m.jsx)(v,{handleSubmit:function(e){e.preventDefault();var t={name:s,number:h},c=function(e,t){if(e&&t.length)return t.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(s,n);c?window.confirm("".concat(s," already exist, do you want to replace the phone number with ").concat(h,"?"))&&z(c.id,{number:h,name:c.name}).then((function(e){r((function(t){return t.filter((function(e){return e.id!==c.id})).concat(e)})),H({message:"".concat(c.name," information has been successfully modified"),type:"success"})})).catch((function(e){H({message:"there's been an error updating ".concat(c.name," information"),type:"error"})})):k(t).then((function(e){H({message:"".concat(t.name," has been succesfully added"),type:"success"}),r(n.concat(e))})).catch((function(e){H({message:"Error adding new person",type:"error"})})),o(""),f(""),E(!1)},newName:s,handleNameChange:function(e){var t=e.target.value;o(t)},newPhone:h,handlePhoneChange:function(e){var t=e.target.value;f(t)},personsList:n,handleCancel:function(){o(""),f(""),E(!1)}}):Object(m.jsx)(g,{personsList:T,handleDelete:function(e){I(e).then((function(t){if(200===t.status){var c=n.filter((function(t){return t.id!==e}));r(c),H({message:"contact has been removed",type:"success"})}})).catch((function(e){H({message:"error deleting item",type:"error"})}))}})]})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};o.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(F,{})}),document.getElementById("root")),H()}},[[41,1,2]]]);
//# sourceMappingURL=main.b638f667.chunk.js.map